<div class="my-classes-container">
  <div class="page-header">
    <div class="header-content">
      <div>
        <h1>ğŸ« My Classes</h1>
        <p *ngIf="teacherName && teacherName !== 'Teacher'">
          Welcome, <strong>{{ teacherName }}</strong> - View all classes assigned to you
        </p>
        <p *ngIf="!teacherName || teacherName === 'Teacher'">
          View all classes assigned to you
        </p>
      </div>
    </div>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="alert alert-error">
    <span class="alert-icon">âš ï¸</span>
    <span>{{ error }}</span>
    <button class="alert-close" (click)="error = ''">&times;</button>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>Loading classes...</p>
  </div>

  <!-- Classes Content -->
  <div *ngIf="!loading && !error">
    <!-- Search Box -->
    <div class="search-container">
      <div class="search-box">
        <span class="search-icon">ğŸ”</span>
        <input 
          type="text" 
          [(ngModel)]="searchTerm" 
          (input)="filterClasses()"
          placeholder="Search classes by name, form, or description..."
          class="search-input">
        <button *ngIf="searchTerm" class="clear-search" (click)="clearSearch()">&times;</button>
      </div>
      <div class="class-count">
        <span *ngIf="filteredClasses.length === classes.length">
          {{ classes.length }} class{{ classes.length !== 1 ? 'es' : '' }} assigned
        </span>
        <span *ngIf="filteredClasses.length !== classes.length">
          {{ filteredClasses.length }} of {{ classes.length }} class{{ classes.length !== 1 ? 'es' : '' }}
        </span>
      </div>
    </div>

    <!-- Classes Grid -->
    <div *ngIf="filteredClasses.length > 0" class="classes-grid">
      <div *ngFor="let classItem of filteredClasses" class="class-card">
        <div class="class-card-header">
          <div class="class-icon">ğŸ«</div>
          <div class="class-title-section">
            <h3 class="class-name">{{ classItem.name }}</h3>
            <span class="class-form">{{ classItem.form }}</span>
          </div>
          <span class="class-status" [class]="getClassStatusClass(classItem.isActive)">
            {{ getClassStatusText(classItem.isActive) }}
          </span>
        </div>
        <div class="class-card-body">
          <p class="class-description" *ngIf="classItem.description">
            {{ classItem.description }}
          </p>
          <p class="class-description" *ngIf="!classItem.description">
            <em>No description available</em>
          </p>
        </div>
        <div class="class-card-footer">
          <button class="btn btn-primary" routerLink="/teacher/record-book" [queryParams]="{classId: classItem.id}">
            <span class="btn-icon">ğŸ“š</span>
            <span>Open Record Book</span>
          </button>
        </div>
      </div>
    </div>

    <!-- No Classes Message -->
    <div *ngIf="filteredClasses.length === 0 && !loading" class="no-data">
      <div class="no-data-icon">ğŸ“­</div>
      <h3>No Classes Found</h3>
      <p *ngIf="searchTerm">
        No classes match your search criteria. Try a different search term.
      </p>
      <p *ngIf="!searchTerm">
        You are not assigned to any classes yet. Please contact the administrator.
      </p>
    </div>
  </div>
</div>

